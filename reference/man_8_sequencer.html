---
title: 6 The Sky Sequencer
layout: reference
url: 6 The Sky Sequencer
---
<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>trueSKY: 6 The Sky Sequencer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">6 The Sky Sequencer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Sky Sequencer is a tool for artists, technical artists, level designers, and mission planners. It also helps programmers to understand the workings of True Sky's sky, clouds and time-of-day systems.</p>
<p>To launch the Sequencer, go to Start Menu/All Programs/Simul/Sky Sequencer/Sky Sequencer.</p>
<h1>The Sequencer Window </h1>
<h2>The Timeline </h2>
<div class="image">
<img src="Timeline.png" alt="Timeline.png"/>
</div>
<p>To change the current time, drag the red vertical line (the time marker) by its handle. To change the visible time-window, drag the timeline at the bottom. To adjust the range of visible time, use the mousewheel to zoom in and out.</p>
<p>To select keyframes, either click on a single keyframe, shift-click to select multiple keyframes, or box-select them. When one or more keyframes are selected, their properties can be changed in the property box. Changing any property affects all selected keyframes of the appropriate type (e.g. all cloud keyframes, or all sky keyframes.)</p>
<p>To select a whole row of keyframes, double-click on the space in-between them.</p>
<p>To select a layer (the sky, a layer of clouds, etc.), click on its name on the left of the timeline.</p>
<p>To add a keyframe, right-click on the timeline and select the "Add sky 
keyframe..." or "Add cloud keyframe..." option.</p>
<p>Sky keyframes determine the colours of the sky from horizon to zenith, any haze effect, and light colour.</p>
<p>Cloud keyframes determine the properties of the cloud layer at a given time. As the light direction changes with time of day, it is necessary to have enough cloud keyframes to reflect the lighting throughout the day.</p>
<h2>Map Window </h2>
<p>This window shows the cloud keyframes in a plan view. Wind heading and speed affects the position of each keyframe - or they can be positioned individually. The camera is shown as a red line indicating its direction of view. Rain regions are shown as filled grey circles (blue when highlighted).</p>
<h2>Properties Window </h2>
<p>The Properties Window can be activated from the Window&gt;&gt;Properties menu option. Whatever is selected in the timeline can be edited in the properties window. Its contents depend on the current selection.</p>
<p>When nothing is selected (click on a blank part of the timeline), the general properties are shown, including camera and view properties.</p>
<h2>Performance Window </h2>
<table class="doxtable">
<tr>
<td><p class="starttd">The Performance Window can be activated from the Window&gt;&gt;Performance menu option. When active, this window shows a text display of GPU and CPU profiling data for trueSKY. The GPU data is taken from the DirectX11 view.</p>
<p>The values are shown in a hierarchical tree - the time for each element includes the times of its children. The numbers given are times in milliseconds. The colour of the text for each item indicates what percentage of its parent time it occupies. The more red the text, the larger its contribution.</p>
<p class="endtd">You'll see a slight pause in the Sequencer about once per second as the performance window updates - this doesn't affect the measurements.  </p>
</td><td><p class="starttd"></p>
<div class="image">
<img src="PerformanceWindow.jpg" alt="PerformanceWindow.jpg"/>
</div>
  </td></tr>
</table>
<h1>Features </h1>
<h2>Cloud features </h2>
<h3>Grid</h3>
<p>The Grid height and width determine the amount of detail in a cloud volume.</p>
<h3>Cloud volume width</h3>
<p>The cloud volume may be typically 10-100km wide. It can repeat (wrap), so that it covers the whole sky. Alternatively, a non-wrapping cloud volume can represent a specific area of cloud in a clear sky.</p>
<h3>Cloud Layer Features</h3>
<p>Cloud layer properties are more general, and will affect all cloud keyframes. Note that for 2D clouds, there is no Precipitation section. The cloud layer properties accessible in the sequencer are:</p>
<table  style="width: 718px; background-color: #E3EEFB; margin-left: 56px;">
<tr>
<th>Feature</th><th><b>Description</b> </th></tr>
<tr>
<td><b>Mode</b></td><td> </td></tr>
<tr>
<td>Loop</td><td>Whether or not to loop the keyframes. </td></tr>
<tr>
<td>Keyframe Subdivision</td><td>How keyframes are transitionsed between (real time is simplest). </td></tr>
<tr>
<td>Update</td><td>Whether to apply updates instantly or gradually. If gradually, any keyframe can be modifeid at any time. If instant, only the next keyframe can be modified. </td></tr>
<tr>
<td>Number</td><td>If using fixed intervals, this is the total number of seconds/minutes/days/months. </td></tr>
<tr>
<td>Interval</td><td>Interval between keyframes in minutes/days/months (if game time). </td></tr>
<tr>
<td>Interval (s)</td><td>Interval between keyframes in seconds (if real time). </td></tr>
<tr>
<td><b>Main</b></td><td> </td></tr>
<tr>
<td>Enabled</td><td>Whether GPU cloud generator should calculate clouds; turns clouds on or off. </td></tr>
<tr>
<td>Wrap Horizontally</td><td>Whether to wrap clouds horizontally. </td></tr>
<tr>
<td>Overide Wind</td><td>Whether to set wind speed and direction directly, or use the keyframe values. </td></tr>
<tr>
<td>Render Mode</td><td>A hint for the renderer on how to raytrace these clouds. </td></tr>
<tr>
<td><b>Precipitation </b></td><td> </td></tr>
<tr>
<td>Max Particles</td><td>The maximum number of rain particles to render. </td></tr>
<tr>
<td>Threshold (km)</td><td>What local thickness of cloud is needed for rain to fall. </td></tr>
<tr> 
<td>Radius (metres)</td><td>Size of the particle zone. </td></tr>
<tr>
<td>Rain Speed (m/s)</td><td>Speed of falling precipitation. </td></tr>
<tr>
<td>Raindrop Size (mm)</td><td>Size of a single raindrop. </td></tr>
<tr>
<td><b>Rendering</b></td><td> </td></tr>
<tr>
<td></td><td> </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td></td><td> </td></tr>
<tr>
<td><b>Grid</b></td><td> </td></tr>
<tr>
<td></td><td> </td></tr>
<tr>
<td></td><td></td></tr> 
<tr>
<td><b>Generation Noise</b></td><td> </td></tr>
<tr>
<td></td><td> </td></tr>
<tr>
<td></td><td></td></tr>
<tr>
<td><b>Edge Noise</b></td><td> </td></tr>
<tr>
<td></td><td> </td></tr>
<tr>
<td></td><td></td></tr>
</table>
<h3>Cloud Keyframe Features</h3>
<p>Cloud keyframe properties allow you to change particular elements of one or more keyframes at a time. Note that for 2D clouds, there is no Weather Effects section. The cloud keyframe properties accessible in the sequencer are:</p>
<table  style="width: 718px; background-color: #E3EEFB; margin-left: 56px;">
<tr>
<th>Feature</th><th><b>Description</b> </th></tr>
<tr>
<td><b>Main</b></td><td> </td></tr>
<tr>
<td>Cloudiness</td><td>How much cloud in the layer at this time. </td></tr>
<tr>
<td>Cloudbase</td><td>Base altitude, in km. </td></tr>
<tr>
<td>Layer Height </td><td>How tall the cloud layer is, in km. </td></tr>
<tr>
<td>Volume Width</td><td>The width of the cloud layer, in km. Typically between 10 and 100. </td></tr>
<tr>
<td>Wind Speed</td><td>Wind speed, in m/s. </td></tr>
<tr>
<td>Wind Heading</td><td>Wind motion of the clouds, in degrees. Defines the horizontal direction the clouds move in. </td></tr>
<tr>
<td><b>Shape</b></td><td> </td></tr>
<tr>
<td>Base Layer</td><td>Proportion of the volume vertically that forms the base of the clouds. </td></tr>
<tr>
<td>Transition</td><td>Proportion that transitions from the cloudbase to the upper layer. </td></tr>
<tr>
<td>Upper Density</td><td>Density of the upper layer as a proportion of the base density. </td></tr>
<tr>
<td>Octaves</td><td>How many fractal octaves to use. </td></tr>
<tr>
<td>Persistence</td><td>Fractal persistence. </td></tr>
<tr>
<td>Worley Noise</td><td>How much Worley (cell) noise to apply in cloud generation. </td></tr>
<tr>
<td>Worley Scale</td><td>Scale of the Worley noise. Will be locked to an integer if clouds are wrapping.  </td></tr>
<tr>
<td>Diffusivity</td><td>How much the edges of clouds should be diffused. </td></tr>
<tr>
<td><b>Lighting</b></td><td> </td></tr>
<tr>
<td>Direct Light</td><td>The amount of direct light to be used. </td></tr>
<tr>
<td>Asymmetry</td><td>The anisotropic distribution of direct lighting, or eccentricity.  </td></tr>
<tr>
<td>Indirect Light</td><td>The amount of indirect or secondary light to be used.  </td></tr>
<tr>
<td>Ambient Light</td><td>The amount of ambient light to be used. </td></tr>
<tr>
<td>Extinction</td><td>The amount of light scattered per metre. Larger values produce darker clouds.  </td></tr>
<tr>
<td>Godrays</td><td>Strength of the godrays effect, between 0 and 1. </td></tr>
<tr>
<td><b>Edge Noise</b></td><td> </td></tr>
<tr>
<td>Scale</td><td>The wavelength of the edge noise. </td></tr>
<tr>
<td>Amplitude</td><td>The strength of the edge noise. </td></tr>
<tr>
<td>Worley Scale</td><td>The wavelength of the fractal worley edge noise. </td></tr>
<tr>
<td>Worley Amplitude</td><td>The strength of the fractal worley edge noise.  </td></tr>
<tr>
<td>Sharpness</td><td>The sharpness to be applied when rendering the boundary.  </td></tr>
<tr>
<td>Base Factor</td><td>What proportion of noise is applied at the cloudbase, between 0 and 1.  </td></tr>
<tr>
<td>Churn</td><td>The strength of the cloud edge churning effect. Larger values produce more turbulent clouds.  </td></tr>
<tr>
<td><b>Weather Effects</b></td><td> </td></tr>
<tr>
<td>Regional</td><td>If checked then rain/snow will be limited to the specified region.  </td></tr>
<tr>
<td>Lock to cloud</td><td>Locks the precipitation region to the cloud wind motion.  </td></tr>
<tr>
<td>Radius (km)</td><td>The precipitation region, in km.  </td></tr>
<tr>
<td>Strength</td><td>How much rain or snow.  </td></tr>
<tr>
<td>Rain Streaks</td><td>The visual strength of the rain-streak effect.  </td></tr>
<tr>
<td>Rain - Snow</td><td>Set this to 0 for rain, or 1 for snow.  </td></tr>
<tr>
<td>Wind effect</td><td>Strength of the effect of wind on precipitation direction.  </td></tr>
<tr>
<td>Waver</td><td>How much precipitation layers waver as they fall. </td></tr>
</table>
<p>See the public attributes of <a class="el" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a> for a full description of all the cloud keyframe properties.</p>
<h2>Sky features</h2>
<h3>Brightness Power</h3>
<p>The sky at sunrise can be less than one quarter as bright as at noon. Moonlight is hundreds of times dimmer than sunlight. Starlight is much dimmer still. The human eye adjusts to a very wide range of light conditions, but for rendering we usually apply a brightness, or exposure level, to make dark scenes visible and bright scenes clear.<br />
 The Brightness Power value for a sky sequence adjusts the light levels to compensate for this large variation by introducing a power function. If the Power is 1.0, there is no adjustment. If it is 0.5, it will be a square-root dependence, e.g. a light 4 times dimmer than daylight would appear only half as dim, and so on.</p>
<h3>Automatic Sun Position</h3>
<p>The sun is automatically placed in the sky based on time-of-day if this is enabled. Otherwise, each sky keyframe has sun position settings.</p>
<h3>Automatic Moon Position</h3>
<p>If enabled, the moon is automatically placed in the sky based on time, day, month, and year. Otherwise, each sky keyframe has moon position settings.</p>
<h3>Colour Sky</h3>
<p>A colour sky has colours for sky and fade determined by a choice from a colour dialog. The default behaviour (non-colour sky) is to generate the colours from physical properties). </p>
<h3>Sky Layer Features</h3>
<h3>Sky Keyframe Features</h3>
<p>See the class definition for <a class="el" href="structsimul_1_1sky_1_1SkyKeyframe.html">simul::sky::SkyKeyframe</a>. The main sky keyframe properties are:</p>
<table  style="width: 718px; background-color: #E3EEFB; margin-left: 56px;">
<tr>
<th>Feature</th><th><b>Description</b> </th></tr>
<tr>
<td>Haze</td><td>How much haze, or fog is present at this time. </td></tr>
<tr>
<td>Sun azimuth</td><td>If sun position is not automatic, this controls the horizontal angle of the sun. </td></tr>
<tr>
<td>Sun elevation</td><td>If sun position is not automatic, this controls how high the sun is in the sky. </td></tr>
<tr>
<td>Moon azimuth</td><td>If moon position is not automatic, this controls its horizontal angle. </td></tr>
<tr>
<td>Moon elevation</td><td>If not automatic, this controls the moon's elevation </td></tr>
</table>
<p>See the public attributes of <a class="el" href="structsimul_1_1sky_1_1SkyKeyframe.html">SkyKeyframe</a> for a full description of all the sky keyframe properties.</p>
<hr/>
<p> Next: <a class="el" href="man_9_changelist.html">Change List</a> </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address style="text-align: right;">trueSKY VERSION 3.8.2<small>
Tue Feb 23 2016 07:47:26</small></address>
</body>
</html>
