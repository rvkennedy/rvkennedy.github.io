---
title: simul::clouds::CloudGeometryHelper Class Reference
layout: reference
url: simul::clouds::CloudGeometryHelper Class Reference
---
<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>trueSKY: simul::clouds::CloudGeometryHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simul</b></li><li class="navelem"><a class="el" href="namespacesimul_1_1clouds.html">clouds</a></li><li class="navelem"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html">CloudGeometryHelper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classsimul_1_1clouds_1_1CloudGeometryHelper-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">simul::clouds::CloudGeometryHelper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="CloudGeometryHelper_8h_source.html">Simul/Clouds/CloudGeometryHelper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a56f6003955bfb29952be64f02d7da263"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56f6003955bfb29952be64f02d7da263"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a56f6003955bfb29952be64f02d7da263">GetDetailFadeStrength</a> () const </td></tr>
<tr class="memdesc:a56f6003955bfb29952be64f02d7da263"><td class="mdescLeft">&#160;</td><td class="mdescRight">How strongly to fade cloud level-of-detail with respect to distance, default is 1.0. <br /></td></tr>
<tr class="separator:a56f6003955bfb29952be64f02d7da263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d96cba198132348e20b0c946d7fa6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00d96cba198132348e20b0c946d7fa6f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a00d96cba198132348e20b0c946d7fa6f">GetGrid</a> (unsigned &amp;el, unsigned &amp;az) const </td></tr>
<tr class="memdesc:a00d96cba198132348e20b0c946d7fa6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the elevation and azimuth grid sizes. <br /></td></tr>
<tr class="separator:a00d96cba198132348e20b0c946d7fa6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae061748d42c132fe7dbd001760b5ba54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae061748d42c132fe7dbd001760b5ba54"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#ae061748d42c132fe7dbd001760b5ba54">GetMaxCloudDistance</a> () const </td></tr>
<tr class="memdesc:ae061748d42c132fe7dbd001760b5ba54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current maximum distance set for cloud layers. <br /></td></tr>
<tr class="separator:ae061748d42c132fe7dbd001760b5ba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab359df7a8bc5f8555e9c2880e3ded0d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab359df7a8bc5f8555e9c2880e3ded0d2"></a>
virtual unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#ab359df7a8bc5f8555e9c2880e3ded0d2">GetMemoryUsage</a> () const </td></tr>
<tr class="memdesc:ab359df7a8bc5f8555e9c2880e3ded0d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of memory this class instance uses, in bytes. <br /></td></tr>
<tr class="separator:ab359df7a8bc5f8555e9c2880e3ded0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a6441e63500f363f2e5ae3d0b5179d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8a6441e63500f363f2e5ae3d0b5179d"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aa8a6441e63500f363f2e5ae3d0b5179d">GetOffset</a> () const </td></tr>
<tr class="memdesc:aa8a6441e63500f363f2e5ae3d0b5179d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the forward motion offset - not usually required. <br /></td></tr>
<tr class="separator:aa8a6441e63500f363f2e5ae3d0b5179d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8526a01de25f40ace3f4bd46c4f4d15"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8526a01de25f40ace3f4bd46c4f4d15"></a>
virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#ab8526a01de25f40ace3f4bd46c4f4d15">GetVerticalShiftDueToCurvature</a> (float dist, float z, float R) const </td></tr>
<tr class="memdesc:ab8526a01de25f40ace3f4bd46c4f4d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective shift due to the Earth's curvature at distance dist from the viewer, and altitude z. <br /></td></tr>
<tr class="separator:ab8526a01de25f40ace3f4bd46c4f4d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5d30ef86302932861f5a1fc7b7e3da"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#afe5d30ef86302932861f5a1fc7b7e3da">Initialize</a> (int max_num_layers, float max_dist)</td></tr>
<tr class="separator:afe5d30ef86302932861f5a1fc7b7e3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2efb757b2dd8c02934bceb8214691c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae2efb757b2dd8c02934bceb8214691c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1base_1_1Referenced.html#aae2efb757b2dd8c02934bceb8214691c">intrusive_ptr_add_ref</a> () const </td></tr>
<tr class="memdesc:aae2efb757b2dd8c02934bceb8214691c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the reference count by one. <br /></td></tr>
<tr class="separator:aae2efb757b2dd8c02934bceb8214691c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b15d531ebb1578a502a3579660c3148"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b15d531ebb1578a502a3579660c3148"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1base_1_1Referenced.html#a1b15d531ebb1578a502a3579660c3148">intrusive_ptr_release</a> ()</td></tr>
<tr class="memdesc:a1b15d531ebb1578a502a3579660c3148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the reference count by one, delete if zero. <br /></td></tr>
<tr class="separator:a1b15d531ebb1578a502a3579660c3148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a7739c95598c6ea8ea77690430af1f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a41a7739c95598c6ea8ea77690430af1f">MakeGeometry</a> (const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *ci, const <a class="el" href="classsimul_1_1clouds_1_1CloudGridInterface.html">CloudGridInterface</a> *cgi, bool to_ground=false, float base_height=0, bool cap=false)</td></tr>
<tr class="separator:a41a7739c95598c6ea8ea77690430af1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e008d08da5cb8a5c951aabf9864ff50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e008d08da5cb8a5c951aabf9864ff50"></a>
virtual SliceInstance&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a0e008d08da5cb8a5c951aabf9864ff50">MakeLayerGeometry</a> (Slice *RS, float effective_world_radius_metres)</td></tr>
<tr class="memdesc:a0e008d08da5cb8a5c951aabf9864ff50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild geometry to correspond to a particular slice. <br /></td></tr>
<tr class="separator:a0e008d08da5cb8a5c951aabf9864ff50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26fe1c55ab6384e001173f57d863072"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad26fe1c55ab6384e001173f57d863072"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1base_1_1Referenced.html#ad26fe1c55ab6384e001173f57d863072">referenceCount</a> () const </td></tr>
<tr class="memdesc:ad26fe1c55ab6384e001173f57d863072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of pointers referencing this object. <br /></td></tr>
<tr class="separator:ad26fe1c55ab6384e001173f57d863072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447b98bc25fec8ebc4e60278e4c2ccbf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a447b98bc25fec8ebc4e60278e4c2ccbf">SetChurn</a> (float c)</td></tr>
<tr class="separator:a447b98bc25fec8ebc4e60278e4c2ccbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956214310400addadca0b4977c258cb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a956214310400addadca0b4977c258cb4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a956214310400addadca0b4977c258cb4">SetCurvedEarth</a> (bool)</td></tr>
<tr class="memdesc:a956214310400addadca0b4977c258cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify whether to curve the cloud volume over the Earth's surface, based on the effective radius. <br /></td></tr>
<tr class="separator:a956214310400addadca0b4977c258cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba6580147eb136c38e3fb7ea597dfee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afba6580147eb136c38e3fb7ea597dfee"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#afba6580147eb136c38e3fb7ea597dfee">SetDetailFadeStrength</a> (float dfs)</td></tr>
<tr class="memdesc:afba6580147eb136c38e3fb7ea597dfee"><td class="mdescLeft">&#160;</td><td class="mdescRight">How strongly to fade cloud level-of-detail with respect to distance, default is 1.0. <br /></td></tr>
<tr class="separator:afba6580147eb136c38e3fb7ea597dfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7107117241b5c7306175c5241628f9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aee7107117241b5c7306175c5241628f9">SetFrustum</a> (float frustum_tan_half_horiz_fov, float frustum_tan_half_vert_fov)</td></tr>
<tr class="separator:aee7107117241b5c7306175c5241628f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeef1e92348d03fc52771308b0584de3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afeef1e92348d03fc52771308b0584de3"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#afeef1e92348d03fc52771308b0584de3">SetGrid</a> (unsigned el, unsigned az)</td></tr>
<tr class="memdesc:afeef1e92348d03fc52771308b0584de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the elevation/azimuth grid sizes. <br /></td></tr>
<tr class="separator:afeef1e92348d03fc52771308b0584de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0091c7b89a99a86aed042e261b0d0714"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a0091c7b89a99a86aed042e261b0d0714">SetNearCloudFade</a> (float f)</td></tr>
<tr class="separator:a0091c7b89a99a86aed042e261b0d0714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b2535d200b51c2d99bb27e47f077ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37b2535d200b51c2d99bb27e47f077ba"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a37b2535d200b51c2d99bb27e47f077ba">SetNoFrustumLimit</a> (bool nf)</td></tr>
<tr class="memdesc:a37b2535d200b51c2d99bb27e47f077ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">If enabled, this option means that cloud geometry ignores the view frustum - useful for unusual frusta or non-frustum-based rendering. <br /></td></tr>
<tr class="separator:a37b2535d200b51c2d99bb27e47f077ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f64b632498785cb0568e4007c8b474"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28f64b632498785cb0568e4007c8b474"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a28f64b632498785cb0568e4007c8b474">Synchronize</a> ()</td></tr>
<tr class="memdesc:a28f64b632498785cb0568e4007c8b474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart all the frame-dependent values, for example in order to synchronize rendering across several channels. <br /></td></tr>
<tr class="separator:a28f64b632498785cb0568e4007c8b474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7346a6d95e89d9fa99f16371eab883"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#afc7346a6d95e89d9fa99f16371eab883">Update</a> (const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;view_pos, const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;wind_offset, const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;view, const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;up, float dt=0.f, bool cubemap=false)</td></tr>
<tr class="separator:afc7346a6d95e89d9fa99f16371eab883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19d8230db8240f9decb1935b7834390"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aa19d8230db8240f9decb1935b7834390">WorldCoordToTexCoord</a> (const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *ci, float effective_world_radius_metres, const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;X)</td></tr>
<tr class="memdesc:aa19d8230db8240f9decb1935b7834390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the viewing direction and up direction only, useful for situations where the clouds must be rendered multiple times from the same position.  <a href="#aa19d8230db8240f9decb1935b7834390">More...</a><br /></td></tr>
<tr class="separator:aa19d8230db8240f9decb1935b7834390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Property: float DetailPersistence</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>"A value between 0 and 1 determining how far out each level of cloud detail persists. 1=uniform all the way out; 0.5=detail only close to camera." </p>
</div></td></tr>
<tr class="memitem:a4b061fde1475c49cd14cc600ae9a6ae8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a4b061fde1475c49cd14cc600ae9a6ae8">GetDetailPersistence</a> () const </td></tr>
<tr class="separator:a4b061fde1475c49cd14cc600ae9a6ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f81c80b2a3e6c1e15f426c353470983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a7f81c80b2a3e6c1e15f426c353470983">SetDetailPersistence</a> (float value)</td></tr>
<tr class="separator:a7f81c80b2a3e6c1e15f426c353470983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Property: float DetailScaleWithAltitude</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>"A dimensionless value determining how quickly cloud detail scales with altitude. Default is 2." </p>
</div></td></tr>
<tr class="memitem:a945f48c7a3f316ac13ecfcb1dc562702"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#a945f48c7a3f316ac13ecfcb1dc562702">GetDetailScaleWithAltitude</a> () const </td></tr>
<tr class="separator:a945f48c7a3f316ac13ecfcb1dc562702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa425b9d767a29d38973cfa975e6b7f50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aa425b9d767a29d38973cfa975e6b7f50">SetDetailScaleWithAltitude</a> (float value)</td></tr>
<tr class="separator:aa425b9d767a29d38973cfa975e6b7f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Property: bool OverridePositionDirection</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>"If set to false, use the values passed in Update(). If set to true, use the values passed in SetPositionDirection." </p>
</div></td></tr>
<tr class="memitem:aee190b00368c51f48f191ff6094d7b62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aee190b00368c51f48f191ff6094d7b62">GetOverridePositionDirection</a> () const </td></tr>
<tr class="separator:aee190b00368c51f48f191ff6094d7b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23843c3d3396f90562c5c571ecd3465"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#af23843c3d3396f90562c5c571ecd3465">SetOverridePositionDirection</a> (bool value)</td></tr>
<tr class="separator:af23843c3d3396f90562c5c571ecd3465"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aca3e4cdf51d82a8b4d013fce837571ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#aca3e4cdf51d82a8b4d013fce837571ba">GenerateSphereVertices</a> (std::vector&lt; vec3 &gt; &amp;vertices, std::vector&lt; unsigned int &gt; &amp;indices, int el_grid, int az_grid)</td></tr>
<tr class="separator:aca3e4cdf51d82a8b4d013fce837571ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bb69981f0d58d60b8baf62810da6b1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html#ad0bb69981f0d58d60b8baf62810da6b1">GetRenderHeights</a> (const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *ci, const <a class="el" href="classsimul_1_1clouds_1_1CloudGridInterface.html">CloudGridInterface</a> *cgi, float &amp;H1, float &amp;H2)</td></tr>
<tr class="separator:ad0bb69981f0d58d60b8baf62810da6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A helper class that generates a list of distances for rendering the cloud volume in slices. The distances go in slices, and are listed starting with the furthest. </p>

<p>Definition at line <a class="el" href="CloudGeometryHelper_8h_source.html#l00068">68</a> of file <a class="el" href="CloudGeometryHelper_8h_source.html">CloudGeometryHelper.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4b061fde1475c49cd14cc600ae9a6ae8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float simul::clouds::CloudGeometryHelper::GetDetailPersistence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of DetailPersistence . </p>

</div>
</div>
<a class="anchor" id="a7f81c80b2a3e6c1e15f426c353470983"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simul::clouds::CloudGeometryHelper::SetDetailPersistence </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the value of DetailPersistence . </p>

</div>
</div>
<a class="anchor" id="a945f48c7a3f316ac13ecfcb1dc562702"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float simul::clouds::CloudGeometryHelper::GetDetailScaleWithAltitude </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of DetailScaleWithAltitude . </p>

</div>
</div>
<a class="anchor" id="aa425b9d767a29d38973cfa975e6b7f50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simul::clouds::CloudGeometryHelper::SetDetailScaleWithAltitude </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the value of DetailScaleWithAltitude . </p>

</div>
</div>
<a class="anchor" id="aee190b00368c51f48f191ff6094d7b62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simul::clouds::CloudGeometryHelper::GetOverridePositionDirection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of OverridePositionDirection . </p>

</div>
</div>
<a class="anchor" id="af23843c3d3396f90562c5c571ecd3465"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simul::clouds::CloudGeometryHelper::SetOverridePositionDirection </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the value of OverridePositionDirection . </p>

</div>
</div>
<a class="anchor" id="afe5d30ef86302932861f5a1fc7b7e3da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::Initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_num_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set up this <a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html">CloudGeometryHelper</a> to track <em>max_num_layers</em> (spherical shells). The furthest layer should be at distance <em>max_dist</em>. This function need only be called once for a given <a class="el" href="classsimul_1_1clouds_1_1CloudGeometryHelper.html">CloudGeometryHelper</a>, unless the input values need to change. </p>

</div>
</div>
<a class="anchor" id="a0091c7b89a99a86aed042e261b0d0714"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::SetNearCloudFade </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set a value, usually between 0 and 1, that determines how close cloud layers must be to the camera before starting to fade out. This value is a multiple for the distance between cloud layers at the nearest point. </p>

</div>
</div>
<a class="anchor" id="a447b98bc25fec8ebc4e60278e4c2ccbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::SetChurn </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the texture churn - how much the texture churns per frame - zero gives a static appearance, values up to 1 and over make the texture animate. </p>

</div>
</div>
<a class="anchor" id="aa19d8230db8240f9decb1935b7834390"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a>&amp; simul::clouds::CloudGeometryHelper::WorldCoordToTexCoord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>effective_world_radius_metres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>X</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the viewing direction and up direction only, useful for situations where the clouds must be rendered multiple times from the same position. </p>
<p>Convert a world XYZ to a texture coordinate. </p>

</div>
</div>
<a class="anchor" id="afc7346a6d95e89d9fa99f16371eab883"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::Update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>view_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>wind_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em> = <code>0.f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cubemap</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Call this function once per frame with updated view position <em>view_pos</em>, the direction the camera is pointed <em>view</em> and the camera <em>up</em> direction. From this information the helper calculates the values for all the slices. </p>

</div>
</div>
<a class="anchor" id="aee7107117241b5c7306175c5241628f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::SetFrustum </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frustum_tan_half_horiz_fov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frustum_tan_half_vert_fov</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the width and height of the viewing frustum by sending the tangent of half the horizontal field of view; and the tangent of half the vertical field of view. </p>

</div>
</div>
<a class="anchor" id="a41a7739c95598c6ea8ea77690430af1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::CloudGeometryHelper::MakeGeometry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1clouds_1_1CloudGridInterface.html">CloudGridInterface</a> *&#160;</td>
          <td class="paramname"><em>cgi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_ground</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>base_height</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cap</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Make the cloud geometry - call once per frame to build the list of Slice structs. Pass the pointer to the cloud object in <em>ci</em> . If you need the geometry to extend to ground level, set <em>to_ground</em> to true and specify the ground height in <em>base_height</em> . If you want the geometry to cover the whole sky instead of being clipped by the cloud volume, set <em>cap</em> to true (this may impact performance and is not usually needed). </p>

</div>
</div>
<a class="anchor" id="ad0bb69981f0d58d60b8baf62810da6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void simul::clouds::CloudGeometryHelper::GetRenderHeights </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a> *&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsimul_1_1clouds_1_1CloudGridInterface.html">CloudGridInterface</a> *&#160;</td>
          <td class="paramname"><em>cgi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>H1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>H2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the true minimum and maximum altitudes for rendering. At no height below H1 can you look down and see clouds; at no height above H2 can you look up and see clouds. </p>

</div>
</div>
<a class="anchor" id="aca3e4cdf51d82a8b4d013fce837571ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void simul::clouds::CloudGeometryHelper::GenerateSphereVertices </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; vec3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>el_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>az_grid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We may choose to render using a single sphere of vertices, scaling it using shader inputs. If so, the vertices are created by this function. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Simul/Clouds/<a class="el" href="CloudGeometryHelper_8h_source.html">CloudGeometryHelper.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address style="text-align: right;">trueSKY VERSION SIMUL_MAJOR_VERSION=4.0.0<small>
Thu Nov 3 2016 07:53:25</small></address>
</body>
</html>
