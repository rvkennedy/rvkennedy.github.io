---
title: simul::clouds::BaseGpuCloudGenerator Class Reference
layout: reference
url: simul::clouds::BaseGpuCloudGenerator Class Reference
---
<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>trueSKY: simul::clouds::BaseGpuCloudGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>simul</b></li><li class="navelem"><a class="el" href="namespacesimul_1_1clouds.html">clouds</a></li><li class="navelem"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">BaseGpuCloudGenerator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">simul::clouds::BaseGpuCloudGenerator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for generating cloud volumes on the GPU.  
 <a href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BaseGpuCloudGenerator_8h_source.html">Simul/Clouds/BaseGpuCloudGenerator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71d5ab53aa76f521c5638023f78d5f49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71d5ab53aa76f521c5638023f78d5f49"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a71d5ab53aa76f521c5638023f78d5f49">CanPerformGPULighting</a> () const </td></tr>
<tr class="memdesc:a71d5ab53aa76f521c5638023f78d5f49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the derived class can relight clouds using the GPU. <br /></td></tr>
<tr class="separator:a71d5ab53aa76f521c5638023f78d5f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e7c7b4730c1df259cb8f76e40b7fa2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#ae2e7c7b4730c1df259cb8f76e40b7fa2">FillDensityGrid</a> (<a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext, int index, const GpuCloudsParameters &amp;params, int start_texel, int texels)</td></tr>
<tr class="separator:ae2e7c7b4730c1df259cb8f76e40b7fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b729143a1641e0104931a36eefcd710"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a1b729143a1641e0104931a36eefcd710">GetDensityGridsize</a> (const int *grid)</td></tr>
<tr class="separator:a1b729143a1641e0104931a36eefcd710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f5eca7d661f2057dd7fbb80526d910"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75f5eca7d661f2057dd7fbb80526d910"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a75f5eca7d661f2057dd7fbb80526d910">GPUTransferDataToTexture</a> (<a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext, int cycled_index, const clouds::GpuCloudsParameters &amp;params, unsigned char *target, int start_texel, int texels)</td></tr>
<tr class="memdesc:a75f5eca7d661f2057dd7fbb80526d910"><td class="mdescLeft">&#160;</td><td class="mdescRight">If GPU lighting is supported, transfer cloud light data to the target texture, transforming from lightspace to density space. <br /></td></tr>
<tr class="separator:a75f5eca7d661f2057dd7fbb80526d910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb897091b534211596293b6951709b0b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb897091b534211596293b6951709b0b"></a>
virtual <a class="el" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#abb897091b534211596293b6951709b0b">Make3DNoiseTexture</a> (<a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext, int noise_size, const float *noise_src_ptr, int generation_number)</td></tr>
<tr class="memdesc:abb897091b534211596293b6951709b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an API-specific noise texture, and return its pointer/identifier etc. as a void pointer. <br /></td></tr>
<tr class="separator:abb897091b534211596293b6951709b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad389d7686e52fe09f4a9ad6240061445"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#ad389d7686e52fe09f4a9ad6240061445">PerformGPURelight</a> (<a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext, int light_index, const clouds::GpuCloudsParameters &amp;params, float *target, int start_texel, int texels)</td></tr>
<tr class="separator:ad389d7686e52fe09f4a9ad6240061445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Property: bool Enabled</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>"Whether this GPU cloud generator should be used to calculate the clouds." </p>
</div></td></tr>
<tr class="memitem:aa9fa23e18d5a526edd69110860eb4eeb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#aa9fa23e18d5a526edd69110860eb4eeb">GetEnabled</a> () const </td></tr>
<tr class="separator:aa9fa23e18d5a526edd69110860eb4eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da1334a2c6a7116eed96b45f2cbe0a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a3da1334a2c6a7116eed96b45f2cbe0a5">SetEnabled</a> (bool value)</td></tr>
<tr class="separator:a3da1334a2c6a7116eed96b45f2cbe0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for generating cloud volumes on the GPU. </p>

<p>Definition at line <a class="el" href="BaseGpuCloudGenerator_8h_source.html#l00354">354</a> of file <a class="el" href="BaseGpuCloudGenerator_8h_source.html">BaseGpuCloudGenerator.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa9fa23e18d5a526edd69110860eb4eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simul::clouds::BaseGpuCloudGenerator::GetEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value of Enabled . </p>

</div>
</div>
<a class="anchor" id="a3da1334a2c6a7116eed96b45f2cbe0a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simul::clouds::BaseGpuCloudGenerator::SetEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the value of Enabled . </p>

</div>
</div>
<a class="anchor" id="a1b729143a1641e0104931a36eefcd710"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int simul::clouds::BaseGpuCloudGenerator::GetDensityGridsize </td>
          <td>(</td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>grid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the size, in floats, needed to allocate a texture of the size specified in grid[3]. This depends on what float renderbuffer formats are supported. </p>

</div>
</div>
<a class="anchor" id="ae2e7c7b4730c1df259cb8f76e40b7fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::BaseGpuCloudGenerator::FillDensityGrid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;&#160;</td>
          <td class="paramname"><em>deviceContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GpuCloudsParameters &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_texel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>texels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fill a 3D grid with floating point cloud densities, and return an API-specific identifier to the texture that it's stored in. We pass the start texel and the number of texels to fill, which should both be a whole multiple of grid[0] </p>

</div>
</div>
<a class="anchor" id="ad389d7686e52fe09f4a9ad6240061445"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void simul::clouds::BaseGpuCloudGenerator::PerformGPURelight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;&#160;</td>
          <td class="paramname"><em>deviceContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>light_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const clouds::GpuCloudsParameters &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_texel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>texels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fully relight the target grid as an array of float4 structures. Includes the matrix to transform from light texture coordinate to density texture coordinate, the three sizes of the light grid, and the three light retention factors (direct, indirect and ambient). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Simul/Clouds/<a class="el" href="BaseGpuCloudGenerator_8h_source.html">BaseGpuCloudGenerator.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address style="text-align: right;">trueSKY VERSION 3.8.2<small>
Sun Jul 3 2016 00:58:50</small></address>
</body>
</html>
