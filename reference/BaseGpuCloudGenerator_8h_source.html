---
title: Simul/Clouds/BaseGpuCloudGenerator.h Source File
layout: reference
url: Simul/Clouds/BaseGpuCloudGenerator.h Source File
---
<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>trueSKY: Simul/Clouds/BaseGpuCloudGenerator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_beaf6350625f40cba10f37349f035602.html">Simul</a></li><li class="navelem"><a class="el" href="dir_70c9c40680dd21af3132864279f1cd73.html">Clouds</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BaseGpuCloudGenerator.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef SIMUL_CLOUDS_BASEGPUCLOUDGENERATOR_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define SIMUL_CLOUDS_BASEGPUCLOUDGENERATOR_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;Simul/Clouds/Export.h&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;Simul/Clouds/CellularCloudNode.h&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;Simul/Math/Vector3.h&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;Simul/Platform/CrossPlatform/SL/CppSl.hs&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;Simul/Platform/CrossPlatform/SL/gpu_cloud_constants.sl&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;Simul/Platform/CrossPlatform/Effect.h&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;Simul/Platform/CrossPlatform/BaseFramebuffer.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;Simul/Sky/BaseKeyframer.h&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">    #pragma warning(push)</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">    #pragma warning(disable:4251)</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesimul.html">simul</a></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keyword">namespace </span>sky</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keyword">class </span>BaseSkyInterface;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="keyword">class </span>OvercastCallback;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">namespace </span>crossplatform</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keyword">class </span>RenderPlatform;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keyword">class </span>Texture;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keyword">namespace </span>clouds</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">enum</span> LightingMethod</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            SIMPLE</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            ,DIFFUSION</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            ,HARMONIC_SECONDARY</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        };</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT Mask</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="keywordtype">float</span> x,y;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="keywordtype">float</span> radius;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <span class="keywordtype">float</span> thickness;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        };</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keyword">enum</span> CloudVolumeType</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            TRUESKY_CLOUD_UNKNOWN       =0</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            ,TRUESKY_CLOUD_CUMULONIMBUS</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            ,TRUESKY_CLOUD_SPHEROID</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            ,TRUESKY_CLOUD_CYLINDER</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        };</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="namespacesimul_1_1clouds.html">   51</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="namespacesimul_1_1clouds.html#structsimul_1_1clouds_1_1CloudVolume">CloudVolume</a></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            CloudVolumeType type;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            mat4 worldspace_to_volumespace; <span class="comment">//km to km</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            vec3 scales_metres;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            vec2 rake;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        };</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="namespacesimul_1_1clouds.html#ab79ccfe3f57cc1c3c4fef8b7f1c59d4b">   59</a></span>&#160;        <span class="keyword">typedef</span> std::map&lt;int,CloudVolume&gt; <a class="code" href="namespacesimul_1_1clouds.html#ab79ccfe3f57cc1c3c4fef8b7f1c59d4b">VolumeMap</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keyword">typedef</span> std::map&lt;int,Mask&gt; MaskMap;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html">   64</a></span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html">PrecipitationRegion</a></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html">PrecipitationRegion</a>():regional(<span class="keyword">false</span>),lockToClouds(<span class="keyword">true</span>),radiusKm(50.f),rainEffectStrength(0.f)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                centreKm.x=centreKm.y=0.0f;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            }</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#aab5a20f373231b6fa9cccf8375a2ef40">   70</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#aab5a20f373231b6fa9cccf8375a2ef40">regional</a>;                  </div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a35270cf212fda3bf1462db7638f75d06">   71</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a35270cf212fda3bf1462db7638f75d06">lockToClouds</a>;              </div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ac99c4ed3b30dccd879e0d6190a61c17e">   72</a></span>&#160;            vec2 <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ac99c4ed3b30dccd879e0d6190a61c17e">centreKm</a>;                  </div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a0be9ed4d5aa35b4fdea60e173ff84b26">   73</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a0be9ed4d5aa35b4fdea60e173ff84b26">radiusKm</a>;                 </div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ae8d71ef78ea737820141dac40266a07a">   74</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ae8d71ef78ea737820141dac40266a07a">rainEffectStrength</a>;       </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        };</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html">   77</a></span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a> : <span class="keyword">public</span> <a class="code" href="structsimul_1_1sky_1_1BaseKeyframe.html">sky::BaseKeyframe</a></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        {</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a4df254708b4c0aa3869c2bf323bc74c7">   79</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a4df254708b4c0aa3869c2bf323bc74c7">cloudiness</a>;               </div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aff10283b744d16ec87e3c1a137283a67">   80</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aff10283b744d16ec87e3c1a137283a67">distribution_base_layer</a>;  </div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#af2872a879cac2ccf1baf3a6e34336e8d">   81</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#af2872a879cac2ccf1baf3a6e34336e8d">distribution_transition</a>;  </div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac6778b17919f5f63e4e7b48280b10504">   82</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac6778b17919f5f63e4e7b48280b10504">upper_density</a>;            </div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0b854db56e8a274e57b9abd98ff22c47">   83</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0b854db56e8a274e57b9abd98ff22c47">wind_speed</a>;               </div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b141eeeee6c666148662798fe1dcb61">   84</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b141eeeee6c666148662798fe1dcb61">wind_direction</a>;           </div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9ae7e03ef688045a8c33288c11a1b5b7">   85</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9ae7e03ef688045a8c33288c11a1b5b7">cloud_base_km</a>;            </div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a7301a6b71419ff9caf24c06d42bb8839">   86</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a7301a6b71419ff9caf24c06d42bb8839">cloud_height_km</a>;          </div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a205550eccce33a7a0d777407ed0bf13c">   87</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a205550eccce33a7a0d777407ed0bf13c">cloud_width_km</a>;           </div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a354fad86fbf2dba3373bd35b460c9c5b">   88</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a354fad86fbf2dba3373bd35b460c9c5b">direct_light</a>;             </div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae40f0a4416141d6081e674646c7007ad">   89</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae40f0a4416141d6081e674646c7007ad">indirect_light</a>;           </div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa8264bb1745b8c819bcf2dd07598d6c4">   90</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa8264bb1745b8c819bcf2dd07598d6c4">ambient_light</a>;            </div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a490bc561c5cdb3bf92146824e386bec9">   91</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a490bc561c5cdb3bf92146824e386bec9">light_asymmetry</a>;          </div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab278f5c9c7330f80ce764ff5615e4cb7">   92</a></span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab278f5c9c7330f80ce764ff5615e4cb7">octaves</a>;                    </div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a13fbecdf8a54daee77970a7860d9dd6e">   93</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a13fbecdf8a54daee77970a7860d9dd6e">persistence</a>;              </div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9c115961ade45f1a5e73370cb34a118a">   94</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9c115961ade45f1a5e73370cb34a118a">fractal_amplitude</a>;        </div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aaff57d0c641b4fc963d2f994edf81943">   95</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aaff57d0c641b4fc963d2f994edf81943">fractal_wavelength</a>;       </div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a14ee9b901ecdcc84a17582c1eb916376">   98</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a14ee9b901ecdcc84a17582c1eb916376">edge_sharpness</a>;           </div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae406e8d0ad06914d38f2320734cc70d8">   99</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae406e8d0ad06914d38f2320734cc70d8">churn</a>;                    </div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac3e9b46c57ec925725a48352a288025a">  100</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac3e9b46c57ec925725a48352a288025a">extinction</a>;               </div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0a5a9c5304551568bc287477cacceedc">  101</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0a5a9c5304551568bc287477cacceedc">precipitation</a>;            </div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac141d40dd98c57ba064b7b55857ce464">  102</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac141d40dd98c57ba064b7b55857ce464">rain_to_snow</a>;             </div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#abfcdf8601f3eb2f8b59a696434db274e">  103</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#abfcdf8601f3eb2f8b59a696434db274e">diffusivity</a>;              </div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            </div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3635ca3fe6fe543330fcb2886acda936">  105</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3635ca3fe6fe543330fcb2886acda936">godray_strength</a>;          </div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a1a07e774dc85cb53856256503fcdd3a0">  106</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a1a07e774dc85cb53856256503fcdd3a0">base_noise_factor</a>;        </div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac8747b8143b1ca2b863b635d689a11b1">  107</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac8747b8143b1ca2b863b635d689a11b1">offsetx</a>;                  </div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a06e21647b0942f46a9bfb43b01111cb6">  108</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a06e21647b0942f46a9bfb43b01111cb6">offsety</a>;                  </div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab072e48c8eb66dd8f07dfe3dd603293d">  109</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab072e48c8eb66dd8f07dfe3dd603293d">octaves_f</a>;                </div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa10849329dcd4d8fd46598e4dbac82c5">  110</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa10849329dcd4d8fd46598e4dbac82c5">simulation</a>;               </div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19ad8a3486907d4df94f25e98ccae1e6">  111</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19ad8a3486907d4df94f25e98ccae1e6">worley_noise</a>;             </div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a459ea5823f2382b99eaa629482cf41f1">  112</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a459ea5823f2382b99eaa629482cf41f1">worley_scale</a>;             </div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b0d3dec9e413edf894af2b6bf7590fd">  113</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b0d3dec9e413edf894af2b6bf7590fd">edge_worley_noise</a>;        </div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19f130b06e20f53dbe0101f097324855">  114</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19f130b06e20f53dbe0101f097324855">edge_worley_scale</a>;        </div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#acff73550536062691277fceb9c542c5e">  115</a></span>&#160;            MaskMap <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#acff73550536062691277fceb9c542c5e">masks</a>;                  </div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ad681f9058fee7c75a3d7fbc96cf32f38">  116</a></span>&#160;            <a class="code" href="structsimul_1_1clouds_1_1PrecipitationRegion.html">PrecipitationRegion</a> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html#ad681f9058fee7c75a3d7fbc96cf32f38">precipitationRegion</a>;    </div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a>():sky::BaseKeyframe()</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                ,cloudiness(0.75f)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                ,distribution_base_layer(0.13f)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                ,distribution_transition(0.26f)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                ,upper_density(0.8f)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                ,wind_speed(0.f)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                ,wind_direction(0.f)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                ,cloud_base_km(3.f)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                ,cloud_height_km(8.f)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                ,cloud_width_km(200.f)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                ,direct_light(1.f)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                ,indirect_light(0.6f)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                ,ambient_light(1.0f)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                ,light_asymmetry(0.87f)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                ,octaves(3)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                ,persistence(0.8f)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                ,fractal_amplitude(0.6f)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                ,fractal_wavelength(24.f)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                ,edge_sharpness(0.1f)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                ,churn(1.f)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                ,extinction(0.004f)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                ,precipitation(0.f)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                ,rain_to_snow(0.f)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                ,diffusivity(0.1f)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                ,godray_strength(0.5f)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                ,base_noise_factor(0.5f)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                ,offsetx(0.f)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                ,offsety(0.f)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                ,octaves_f(0.f)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                ,simulation(0.0f)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                ,worley_noise(0.35f)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                ,worley_scale(2.0f)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                ,edge_worley_noise(0.09f)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                ,edge_worley_scale(3.0f)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            ~<a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a>()</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> Save(<a class="code" href="structsimul_1_1sky_1_1Output.html">simul::sky::Output</a> &amp;os) <span class="keyword">const</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> Load(<a class="code" href="structsimul_1_1sky_1_1Input.html">simul::sky::Input</a> &amp;is,<a class="code" href="classsimul_1_1base_1_1MemoryInterface.html">simul::base::MemoryInterface</a> *memoryInterface);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> SaveToText(simul::crossplatform::TextOutput &amp;output) <span class="keyword">const</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> LoadFromText(simul::crossplatform::TextInput &amp;input);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> HasFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *name) <span class="keyword">const</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">float</span> GetFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *name) <span class="keyword">const</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetFloat(<span class="keyword">const</span> <span class="keywordtype">char</span> *name,<span class="keywordtype">float</span> val);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> HasInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *name) <span class="keyword">const</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">int</span> GetInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *name) <span class="keyword">const</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *name,<span class="keywordtype">int</span> val);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordtype">void</span> SetMask(<span class="keywordtype">int</span> mask_id,<span class="keyword">const</span> Mask &amp;m);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keyword">const</span> Mask *GetMask(<span class="keywordtype">int</span> mask_id);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> GetPropertiesChecksum() <span class="keyword">const</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordtype">float</span> GetOffsetX()<span class="keyword"> const</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <span class="keywordflow">return</span> offsetx;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordtype">float</span> GetOffsetY()<span class="keyword"> const</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">return</span> offsety;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            vec2 GetPrecipitationCentreKm() <span class="keyword">const</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#ifndef DOXYGEN</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classsimul_1_1clouds_1_1CloudKeyframer.html">CloudKeyframer</a>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        };</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="namespacesimul_1_1clouds.html#a4fb446340b2fb4b138b7d8240bffcf69">  247</a></span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <a class="code" href="namespacesimul_1_1clouds.html#a4fb446340b2fb4b138b7d8240bffcf69">CloudTexelType</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT FillState</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            FillState()</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                :dens_texel(0)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                ,light_texel(0)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                ,amb_texel(0)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                ,fill_texel(0)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                ,checksum(0)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            {}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keywordtype">void</span> Restart();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordtype">int</span> dens_texel,light_texel,amb_texel,fill_texel;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordtype">unsigned</span> checksum;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        };</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT FillTarget</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            FillTarget():texels(NULL)   ,target_light(NULL) ,target_ambient(NULL)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="comment">// accumulation buffers for light values.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            CloudTexelType *texels;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordtype">float</span> *target_light;        <span class="comment">// size is fill_texture_size</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordtype">float</span> *target_ambient;      <span class="comment">// size is fill_texture_size</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        };</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT KeyframeInUse:<span class="keyword">public</span> FillState</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            KeyframeInUse();</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            ~KeyframeInUse();</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordtype">void</span> Restart();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordtype">void</span> Clear();</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordtype">void</span> Init(<span class="keywordtype">int</span> w,<span class="keywordtype">int</span> l,<span class="keywordtype">int</span> d);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordtype">int</span> size;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordtype">int</span> dens_texel,amb_texel,light_texel,fill_texel;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <a class="code" href="classsimul_1_1base_1_1MemoryInterface.html">simul::base::MemoryInterface</a> *memoryInterface;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a>        sun_direction;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <a class="code" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a>        moon_direction;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <a class="code" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a>        sun_irradiance;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a>        moon_irradiance;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            LightingSetupStruct         lightingSetupStruct;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="comment">//  float                       cloud_base_km,time;</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">//int                           kf;</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordtype">bool</span>                        texture_complete;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordtype">float</span>                       interp;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keyword">const</span> <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a> &amp;GetKeyframe()<span class="keyword"> const</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <span class="keywordflow">return</span> keyframe;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a> &amp;GetKeyframe()</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">return</span> keyframe;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keyword">private</span>:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <a class="code" href="structsimul_1_1clouds_1_1CloudKeyframe.html">CloudKeyframe</a>   keyframe;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        };</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keyword">struct </span>CloudSimulationParameters</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            vec3 upperWindKms;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordtype">float</span> vorticityConfinement;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            vec3 lowerWindKms;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordtype">float</span> viscosity;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        };</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        SIMUL_CLOUDS_EXPORT_STRUCT GpuCloudsParameters</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordtype">int</span>     density_grid[3];</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordtype">int</span>     light_grid[3];</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordtype">float</span>   humidity;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordtype">float</span>   baseLayer;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordtype">float</span>   transition;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordtype">float</span>   upperDensity;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordtype">float</span>   diffusivity;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordtype">float</span>   time;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordtype">int</span>     octaves;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordtype">float</span>   persistence;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordtype">int</span>     noiseSize;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordtype">float</span>   Matrix4x4LightToDensityTexcoords[16];</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordtype">float</span>   Matrix4x4AmbientToDensityTexcoords[16];</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordtype">float</span>   Matrix4x4DensityToLightTransform[16];</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            vec3    cornerM;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            vec3    densityVolumeScalesM;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            vec4    lightspace_extinctions;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordtype">bool</span> wrap_light_tex[2];</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keyword">const</span> simul::clouds::MaskMap *masks;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keyword">const</span> <a class="code" href="namespacesimul_1_1clouds.html#ab79ccfe3f57cc1c3c4fef8b7f1c59d4b">simul::clouds::VolumeMap</a> *cloudVolumes;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> *noise_src_ptr;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordtype">int</span>     noise_generation_number;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordtype">float</span>   texture_fill_progress;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordtype">bool</span>    wrap_horizontally;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordtype">unsigned</span> checksum;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            vec3    directionToLight;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordtype">float</span>   seaLevelTemperatureK;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordtype">float</span>   numWorleyOctaves;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordtype">float</span>   worleyNoiseStrength;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordtype">float</span>   worleyNoiseScale;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordtype">int</span>     mips;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        };</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">  345</a></span>&#160;        SIMUL_CLOUDS_EXPORT_CLASS <a class="code" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">BaseGpuCloudGenerator</a></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keyword">public</span>:</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <a class="code" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">BaseGpuCloudGenerator</a>();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keyword">virtual</span> ~<a class="code" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">BaseGpuCloudGenerator</a>(); <span class="comment">// RDE: added virtual</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordtype">void</span> SetLightingMethod(LightingMethod h)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                lightingMethod=h;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            META_BeginProperties</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                META_ValueProperty(<span class="keywordtype">bool</span> ,Enabled,<span class="stringliteral">&quot;Whether this GPU cloud generator should be used to calculate the clouds.&quot;</span>)</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            META_EndProperties</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordtype">void</span> ResetChecksums();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">void</span> SetCloudPlacementTexture(<span class="keywordtype">int</span> <span class="keywordtype">id</span>,<a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> *t,vec2 pos_km,vec2 ext_km);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetTextureCycle(<span class="keywordtype">int</span> c);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> RestoreDeviceObjects(<a class="code" href="classsimul_1_1crossplatform_1_1RenderPlatform.html">crossplatform::RenderPlatform</a> *);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> InvalidateDeviceObjects();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> RecompileShaders();</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a71d5ab53aa76f521c5638023f78d5f49">  364</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a71d5ab53aa76f521c5638023f78d5f49">CanPerformGPULighting</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">return</span> Enabled&amp;&amp;renderPlatform!=NULL;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordtype">void</span> Update(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext,<span class="keywordtype">int</span> cycled_index,<span class="keyword">const</span> clouds::GpuCloudsParameters &amp;params,FillTarget *T=NULL);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">int</span> GetDensityGridsize(<span class="keyword">const</span> <span class="keywordtype">int</span> *grid);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>* Make3DNoiseTexture(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext,<span class="keywordtype">int</span> noise_size,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                            <span class="keyword">const</span> <span class="keywordtype">float</span>  *noise_src_ptr,<span class="keywordtype">int</span> generation_number);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> FillDensityGrid(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                ,<span class="keywordtype">int</span> index,<span class="keyword">const</span> GpuCloudsParameters &amp;params</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                            ,<span class="keywordtype">int</span> start_texel</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                            ,<span class="keywordtype">int</span> texels);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> PerformGPURelight(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext,<span class="keywordtype">int</span> light_index</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                            ,<span class="keyword">const</span> clouds::GpuCloudsParameters &amp;params</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                            ,<span class="keywordtype">float</span> *target</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                            ,<span class="keywordtype">int</span> start_texel</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                            ,<span class="keywordtype">int</span> texels);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> GPUTransferDataToTexture(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext,<span class="keywordtype">int</span> cycled_index</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                ,<span class="keyword">const</span> clouds::GpuCloudsParameters &amp;params</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                ,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *target</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                                ,<span class="keywordtype">int</span> start_texel</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                                ,<span class="keywordtype">int</span> texels);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="comment">// For onscreen debug</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordtype">void</span> RenderSimulationTextures(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;context,<span class="keywordtype">int</span> x0,<span class="keywordtype">int</span> y0,<span class="keywordtype">int</span> width,<span class="keywordtype">int</span> height);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordtype">void</span> SimulationStep(<a class="code" href="structsimul_1_1crossplatform_1_1DeviceContext.html">crossplatform::DeviceContext</a> &amp;deviceContext</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                ,<span class="keyword">const</span> clouds::GpuCloudsParameters &amp;params</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                ,<a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> *target</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                ,<span class="keywordtype">float</span> dt</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                ,<span class="keywordtype">bool</span> init</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                ,<span class="keyword">const</span> clouds::CloudSimulationParameters &amp;sim_params</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                ,std::map&lt;int,CloudAffector&gt; aff);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">float</span> GetOpticalPathLength(<span class="keywordtype">int</span> <span class="comment">/*cycled_index*/</span>,<span class="keyword">const</span> <span class="keywordtype">float</span> * <span class="comment">/*pos*/</span>,<span class="keyword">const</span> <span class="keywordtype">float</span> * <span class="comment">/*dir*/</span>,<span class="keyword">const</span> <span class="keywordtype">float</span> * <span class="comment">/*scales*/</span>)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                <span class="keywordflow">return</span> 0.f;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keyword">const</span> FillState &amp;GetFillState(<span class="keywordtype">int</span> cycled_index)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="keywordflow">return</span> fillStates[cycled_index];</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">// If we want the generator to put the data directly into 3d textures:</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetDirectTargets(<a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> **textures)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;3;i++)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    <span class="keywordflow">if</span>(textures)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        finalTexture[i]=textures[i];</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        finalTexture[i]=NULL;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordtype">void</span> SetWorleyTexture(<a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> *t)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                worleyTexture3D=t;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keyword">protected</span>:</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1RenderPlatform.html">crossplatform::RenderPlatform</a>       *renderPlatform;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1BaseFramebuffer.html">crossplatform::BaseFramebuffer</a>      *mask_fb;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            </div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Effect.html">crossplatform::Effect</a>*              effect;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            crossplatform::EffectTechnique*     densityComputeTechnique;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            crossplatform::EffectTechnique*     maskTechnique;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            crossplatform::EffectTechnique*     lightingComputeTechnique;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            crossplatform::EffectTechnique*     secondaryLightingComputeTechnique;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            crossplatform::EffectTechnique*     secondaryHarmonicTechnique;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            crossplatform::EffectTechnique*     transformComputeTechnique;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *volume_noise_tex;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *worleyTexture3D;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">// Simulation textures:The basic quantities necessary to simulate clouds are</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment">// velocity, u=(u, v, w), air pressure, p, temperature T, water</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment">// vapor, qv, and condensed cloud water, qc. These water</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="comment">// content variables are mixing ratios: quantity per unit air mass</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationVelocityDensity1;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationVelocityDensity2;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *velocityDivergence;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationPressure1;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationPressure2;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationProperties1;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationProperties2;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationVorticity;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *simulationVorticityField;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            </div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *density_texture;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a>              *finalTexture[3];</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            crossplatform::ConstantBuffer&lt;GpuCloudConstants&gt;    gpuCloudConstants;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            </div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1StructuredBuffer.html">crossplatform::StructuredBuffer&lt;CloudAffector&gt;</a> cloudAffectors;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="classsimul_1_1crossplatform_1_1StructuredBuffer.html">crossplatform::StructuredBuffer&lt;CloudVolume_densityspace&gt;</a> cloudVolumes;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            crossplatform::SamplerState         *m_pWwcSamplerState;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            crossplatform::SamplerState         *m_pWccSamplerState;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            crossplatform::SamplerState         *m_pCwcSamplerState;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            crossplatform::SamplerState         *m_pCccSamplerState;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            LightingMethod lightingMethod;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            FillState fillStates[3];</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordtype">int</span> texture_cycle;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordtype">int</span> noiseSize;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordtype">int</span> last_generation_number;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keyword">static</span> <span class="keywordtype">void</span> SetGpuCloudConstants(GpuCloudConstants &amp;g,<span class="keyword">const</span> clouds::GpuCloudsParameters &amp;params,<span class="keywordtype">float</span> y_start,<span class="keywordtype">float</span> y_range);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keyword">struct </span>CloudPlacementTexture</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <a class="code" href="classsimul_1_1crossplatform_1_1Texture.html">crossplatform::Texture</a> *texture;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                vec2 pos_km,ext_km;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            };</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            std::map&lt;int,CloudPlacementTexture&gt; cloudPlacementTextures;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        };</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">    #pragma warning(pop)</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a4df254708b4c0aa3869c2bf323bc74c7"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a4df254708b4c0aa3869c2bf323bc74c7">simul::clouds::CloudKeyframe::cloudiness</a></div><div class="ttdeci">float cloudiness</div><div class="ttdoc">The density of the cloud layer at this time. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00079">BaseGpuCloudGenerator.h:79</a></div></div>
<div class="ttc" id="structsimul_1_1sky_1_1Output_html"><div class="ttname"><a href="structsimul_1_1sky_1_1Output.html">simul::sky::Output</a></div><div class="ttdoc">A virtual base class to save objects to binary. </div><div class="ttdef"><b>Definition:</b> <a href="ChunkInputOutput_8h_source.html#l00024">ChunkInputOutput.h:24</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a0b854db56e8a274e57b9abd98ff22c47"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0b854db56e8a274e57b9abd98ff22c47">simul::clouds::CloudKeyframe::wind_speed</a></div><div class="ttdeci">float wind_speed</div><div class="ttdoc">The wind speed in m/s. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00083">BaseGpuCloudGenerator.h:83</a></div></div>
<div class="ttc" id="classsimul_1_1crossplatform_1_1Effect_html"><div class="ttname"><a href="classsimul_1_1crossplatform_1_1Effect.html">simul::crossplatform::Effect</a></div><div class="ttdoc">The cross-platform base class for shader effects. </div><div class="ttdef"><b>Definition:</b> <a href="CrossPlatform_2Effect_8h_source.html#l00528">Effect.h:528</a></div></div>
<div class="ttc" id="structsimul_1_1sky_1_1Input_html"><div class="ttname"><a href="structsimul_1_1sky_1_1Input.html">simul::sky::Input</a></div><div class="ttdoc">A virtual base class to load objects from binary. </div><div class="ttdef"><b>Definition:</b> <a href="ChunkInputOutput_8h_source.html#l00016">ChunkInputOutput.h:16</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a9c115961ade45f1a5e73370cb34a118a"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9c115961ade45f1a5e73370cb34a118a">simul::clouds::CloudKeyframe::fractal_amplitude</a></div><div class="ttdeci">float fractal_amplitude</div><div class="ttdoc">The strength of the fractal edge effect, default 1.8. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00094">BaseGpuCloudGenerator.h:94</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ac3e9b46c57ec925725a48352a288025a"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac3e9b46c57ec925725a48352a288025a">simul::clouds::CloudKeyframe::extinction</a></div><div class="ttdeci">float extinction</div><div class="ttdoc">The amount of light scattered per metre - larger values produce darker clouds, default 0...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00100">BaseGpuCloudGenerator.h:100</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a3635ca3fe6fe543330fcb2886acda936"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3635ca3fe6fe543330fcb2886acda936">simul::clouds::CloudKeyframe::godray_strength</a></div><div class="ttdeci">float godray_strength</div><div class="ttdoc">Strength (from 0 to 1) of the godrays effect. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00105">BaseGpuCloudGenerator.h:105</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a13fbecdf8a54daee77970a7860d9dd6e"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a13fbecdf8a54daee77970a7860d9dd6e">simul::clouds::CloudKeyframe::persistence</a></div><div class="ttdeci">float persistence</div><div class="ttdoc">The fractal persistence for generating the clouds, default 0.45. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00093">BaseGpuCloudGenerator.h:93</a></div></div>
<div class="ttc" id="classsimul_1_1clouds_1_1CloudKeyframer_html"><div class="ttname"><a href="classsimul_1_1clouds_1_1CloudKeyframer.html">simul::clouds::CloudKeyframer</a></div><div class="ttdef"><b>Definition:</b> <a href="CloudKeyframer_8h_source.html#l00153">CloudKeyframer.h:153</a></div></div>
<div class="ttc" id="classsimul_1_1crossplatform_1_1StructuredBuffer_html"><div class="ttname"><a href="classsimul_1_1crossplatform_1_1StructuredBuffer.html">simul::crossplatform::StructuredBuffer&lt; CloudAffector &gt;</a></div></div>
<div class="ttc" id="namespacesimul_1_1clouds_html_ab79ccfe3f57cc1c3c4fef8b7f1c59d4b"><div class="ttname"><a href="namespacesimul_1_1clouds.html#ab79ccfe3f57cc1c3c4fef8b7f1c59d4b">simul::clouds::VolumeMap</a></div><div class="ttdeci">std::map&lt; int, CloudVolume &gt; VolumeMap</div><div class="ttdoc">Custom volume. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00059">BaseGpuCloudGenerator.h:59</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ad681f9058fee7c75a3d7fbc96cf32f38"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ad681f9058fee7c75a3d7fbc96cf32f38">simul::clouds::CloudKeyframe::precipitationRegion</a></div><div class="ttdeci">PrecipitationRegion precipitationRegion</div><div class="ttdoc">Where rain/snow is found. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00116">BaseGpuCloudGenerator.h:116</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ab072e48c8eb66dd8f07dfe3dd603293d"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab072e48c8eb66dd8f07dfe3dd603293d">simul::clouds::CloudKeyframe::octaves_f</a></div><div class="ttdeci">float octaves_f</div><div class="ttdoc">Only used for interpolation - changes will be ignored. See octaves. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00109">BaseGpuCloudGenerator.h:109</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ae406e8d0ad06914d38f2320734cc70d8"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae406e8d0ad06914d38f2320734cc70d8">simul::clouds::CloudKeyframe::churn</a></div><div class="ttdeci">float churn</div><div class="ttdoc">The strength of the cloud edge churning effect - larger values for more turbulent clouds...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00099">BaseGpuCloudGenerator.h:99</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html_a35270cf212fda3bf1462db7638f75d06"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a35270cf212fda3bf1462db7638f75d06">simul::clouds::PrecipitationRegion::lockToClouds</a></div><div class="ttdeci">bool lockToClouds</div><div class="ttdoc">If true, the region moves with the cloud wind motion, and centreKm represents an offset from this mot...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00071">BaseGpuCloudGenerator.h:71</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a354fad86fbf2dba3373bd35b460c9c5b"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a354fad86fbf2dba3373bd35b460c9c5b">simul::clouds::CloudKeyframe::direct_light</a></div><div class="ttdeci">float direct_light</div><div class="ttdoc">The amount of direct light to be used for rendering. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00088">BaseGpuCloudGenerator.h:88</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a9ae7e03ef688045a8c33288c11a1b5b7"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a9ae7e03ef688045a8c33288c11a1b5b7">simul::clouds::CloudKeyframe::cloud_base_km</a></div><div class="ttdeci">float cloud_base_km</div><div class="ttdoc">The base altitude of this cloud layer. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00085">BaseGpuCloudGenerator.h:85</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html_ae8d71ef78ea737820141dac40266a07a"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ae8d71ef78ea737820141dac40266a07a">simul::clouds::PrecipitationRegion::rainEffectStrength</a></div><div class="ttdeci">float rainEffectStrength</div><div class="ttdoc">The visual strength of the rain-streak effect when rendered. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00074">BaseGpuCloudGenerator.h:74</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html_a0be9ed4d5aa35b4fdea60e173ff84b26"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html#a0be9ed4d5aa35b4fdea60e173ff84b26">simul::clouds::PrecipitationRegion::radiusKm</a></div><div class="ttdeci">float radiusKm</div><div class="ttdoc">The radius of the region. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00073">BaseGpuCloudGenerator.h:73</a></div></div>
<div class="ttc" id="classsimul_1_1clouds_1_1BaseGpuCloudGenerator_html_a71d5ab53aa76f521c5638023f78d5f49"><div class="ttname"><a href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html#a71d5ab53aa76f521c5638023f78d5f49">simul::clouds::BaseGpuCloudGenerator::CanPerformGPULighting</a></div><div class="ttdeci">virtual bool CanPerformGPULighting() const </div><div class="ttdoc">Return true if the derived class can relight clouds using the GPU. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00364">BaseGpuCloudGenerator.h:364</a></div></div>
<div class="ttc" id="classsimul_1_1crossplatform_1_1Texture_html"><div class="ttname"><a href="classsimul_1_1crossplatform_1_1Texture.html">simul::crossplatform::Texture</a></div><div class="ttdoc">A Texture base class. </div><div class="ttdef"><b>Definition:</b> <a href="CrossPlatform_2Texture_8h_source.html#l00076">Texture.h:76</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_aaff57d0c641b4fc963d2f994edf81943"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#aaff57d0c641b4fc963d2f994edf81943">simul::clouds::CloudKeyframe::fractal_wavelength</a></div><div class="ttdeci">float fractal_wavelength</div><div class="ttdoc">The wavelength of the fractal edge effect - longer wavelengths produce smoother clouds, default 140. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00095">BaseGpuCloudGenerator.h:95</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_aa8264bb1745b8c819bcf2dd07598d6c4"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa8264bb1745b8c819bcf2dd07598d6c4">simul::clouds::CloudKeyframe::ambient_light</a></div><div class="ttdeci">float ambient_light</div><div class="ttdoc">The amount of ambient light to be used for rendering. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00090">BaseGpuCloudGenerator.h:90</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a0a5a9c5304551568bc287477cacceedc"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a0a5a9c5304551568bc287477cacceedc">simul::clouds::CloudKeyframe::precipitation</a></div><div class="ttdeci">float precipitation</div><div class="ttdoc">The amount of rain/snow etc. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00101">BaseGpuCloudGenerator.h:101</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_aff10283b744d16ec87e3c1a137283a67"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#aff10283b744d16ec87e3c1a137283a67">simul::clouds::CloudKeyframe::distribution_base_layer</a></div><div class="ttdeci">float distribution_base_layer</div><div class="ttdoc">Start of the transition from the cloud base to the upper cloud (0 to 1) </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00080">BaseGpuCloudGenerator.h:80</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ac141d40dd98c57ba064b7b55857ce464"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac141d40dd98c57ba064b7b55857ce464">simul::clouds::CloudKeyframe::rain_to_snow</a></div><div class="ttdeci">float rain_to_snow</div><div class="ttdoc">If zero, precipitation is interpreted as rain. If one, it is snow. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00102">BaseGpuCloudGenerator.h:102</a></div></div>
<div class="ttc" id="classsimul_1_1base_1_1MemoryInterface_html"><div class="ttname"><a href="classsimul_1_1base_1_1MemoryInterface.html">simul::base::MemoryInterface</a></div><div class="ttdoc">A virtual interface class for classes that can allocate and de-allocate memory. </div><div class="ttdef"><b>Definition:</b> <a href="MemoryInterface_8h_source.html#l00045">MemoryInterface.h:45</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_acff73550536062691277fceb9c542c5e"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#acff73550536062691277fceb9c542c5e">simul::clouds::CloudKeyframe::masks</a></div><div class="ttdeci">MaskMap masks</div><div class="ttdoc">radial masks for precise cloud placement control. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00115">BaseGpuCloudGenerator.h:115</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_abfcdf8601f3eb2f8b59a696434db274e"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#abfcdf8601f3eb2f8b59a696434db274e">simul::clouds::CloudKeyframe::diffusivity</a></div><div class="ttdeci">float diffusivity</div><div class="ttdoc">How much the edges of clouds should be diffused. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00103">BaseGpuCloudGenerator.h:103</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ab278f5c9c7330f80ce764ff5615e4cb7"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ab278f5c9c7330f80ce764ff5615e4cb7">simul::clouds::CloudKeyframe::octaves</a></div><div class="ttdeci">int octaves</div><div class="ttdoc">The number of noise octaves used to generate the clouds; default 3. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00092">BaseGpuCloudGenerator.h:92</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a3b0d3dec9e413edf894af2b6bf7590fd"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b0d3dec9e413edf894af2b6bf7590fd">simul::clouds::CloudKeyframe::edge_worley_noise</a></div><div class="ttdeci">float edge_worley_noise</div><div class="ttdoc">The strength of the fractal worley edge noise. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00113">BaseGpuCloudGenerator.h:113</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a1a07e774dc85cb53856256503fcdd3a0"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a1a07e774dc85cb53856256503fcdd3a0">simul::clouds::CloudKeyframe::base_noise_factor</a></div><div class="ttdeci">float base_noise_factor</div><div class="ttdoc">What proportion of noise is applied at the cloudbase, between 0 and 1.0. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00106">BaseGpuCloudGenerator.h:106</a></div></div>
<div class="ttc" id="structsimul_1_1crossplatform_1_1DeviceContext_html"><div class="ttname"><a href="structsimul_1_1crossplatform_1_1DeviceContext.html">simul::crossplatform::DeviceContext</a></div><div class="ttdef"><b>Definition:</b> <a href="DeviceContext_8h_source.html#l00022">DeviceContext.h:22</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a14ee9b901ecdcc84a17582c1eb916376"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a14ee9b901ecdcc84a17582c1eb916376">simul::clouds::CloudKeyframe::edge_sharpness</a></div><div class="ttdeci">float edge_sharpness</div><div class="ttdoc">The sharpness to be applied in rendering a the boundary. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00098">BaseGpuCloudGenerator.h:98</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ac6778b17919f5f63e4e7b48280b10504"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac6778b17919f5f63e4e7b48280b10504">simul::clouds::CloudKeyframe::upper_density</a></div><div class="ttdeci">float upper_density</div><div class="ttdoc">The proportion of cloud density retained in the upper layer, above the distribution_transition. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00082">BaseGpuCloudGenerator.h:82</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a459ea5823f2382b99eaa629482cf41f1"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a459ea5823f2382b99eaa629482cf41f1">simul::clouds::CloudKeyframe::worley_scale</a></div><div class="ttdeci">float worley_scale</div><div class="ttdoc">Scale of the Worley noise. Will be locked to an integer if clouds are wrapping. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00112">BaseGpuCloudGenerator.h:112</a></div></div>
<div class="ttc" id="namespacesimul_1_1clouds_html_a4fb446340b2fb4b138b7d8240bffcf69"><div class="ttname"><a href="namespacesimul_1_1clouds.html#a4fb446340b2fb4b138b7d8240bffcf69">simul::clouds::CloudTexelType</a></div><div class="ttdeci">unsigned CloudTexelType</div><div class="ttdoc">By defining this typedef, we ensure that cloud texels are treated as 32-bit. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00247">BaseGpuCloudGenerator.h:247</a></div></div>
<div class="ttc" id="namespacesimul_html"><div class="ttname"><a href="namespacesimul.html">simul</a></div><div class="ttdef"><b>Definition:</b> <a href="Base_8h_source.html#l00001">Base.h:1</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a3b141eeeee6c666148662798fe1dcb61"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a3b141eeeee6c666148662798fe1dcb61">simul::clouds::CloudKeyframe::wind_direction</a></div><div class="ttdeci">float wind_direction</div><div class="ttdoc">The wind direction. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00084">BaseGpuCloudGenerator.h:84</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html">simul::clouds::PrecipitationRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00064">BaseGpuCloudGenerator.h:64</a></div></div>
<div class="ttc" id="classsimul_1_1clouds_1_1BaseGpuCloudGenerator_html"><div class="ttname"><a href="classsimul_1_1clouds_1_1BaseGpuCloudGenerator.html">simul::clouds::BaseGpuCloudGenerator</a></div><div class="ttdoc">Base class for generating cloud volumes on the GPU. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00345">BaseGpuCloudGenerator.h:345</a></div></div>
<div class="ttc" id="classsimul_1_1math_1_1Vector3_html"><div class="ttname"><a href="classsimul_1_1math_1_1Vector3.html">simul::math::Vector3</a></div><div class="ttdoc">A 3-element vector class. </div><div class="ttdef"><b>Definition:</b> <a href="Vector3_8h_source.html#l00025">Vector3.h:25</a></div></div>
<div class="ttc" id="namespacesimul_1_1clouds_html_structsimul_1_1clouds_1_1CloudVolume"><div class="ttname"><a href="namespacesimul_1_1clouds.html#structsimul_1_1clouds_1_1CloudVolume">simul::clouds::CloudVolume</a></div><div class="ttdoc">Custom volume. the transform matrix and scales are in km. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00051">BaseGpuCloudGenerator.h:51</a></div></div>
<div class="ttc" id="classsimul_1_1crossplatform_1_1RenderPlatform_html"><div class="ttname"><a href="classsimul_1_1crossplatform_1_1RenderPlatform.html">simul::crossplatform::RenderPlatform</a></div><div class="ttdoc">A base class for API-specific rendering. </div><div class="ttdef"><b>Definition:</b> <a href="CrossPlatform_2RenderPlatform_8h_source.html#l00082">RenderPlatform.h:82</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_af2872a879cac2ccf1baf3a6e34336e8d"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#af2872a879cac2ccf1baf3a6e34336e8d">simul::clouds::CloudKeyframe::distribution_transition</a></div><div class="ttdeci">float distribution_transition</div><div class="ttdoc">The transition from the cloud base to the upper cloud (0 to 1) </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00081">BaseGpuCloudGenerator.h:81</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a19f130b06e20f53dbe0101f097324855"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19f130b06e20f53dbe0101f097324855">simul::clouds::CloudKeyframe::edge_worley_scale</a></div><div class="ttdeci">float edge_worley_scale</div><div class="ttdoc">The wavelength of the fractal worley edge noise. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00114">BaseGpuCloudGenerator.h:114</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html_aab5a20f373231b6fa9cccf8375a2ef40"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html#aab5a20f373231b6fa9cccf8375a2ef40">simul::clouds::PrecipitationRegion::regional</a></div><div class="ttdeci">bool regional</div><div class="ttdoc">If true, rain/snow only occurs within the specified region. If false, it occurs everywhere for the ke...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00070">BaseGpuCloudGenerator.h:70</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_aa10849329dcd4d8fd46598e4dbac82c5"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#aa10849329dcd4d8fd46598e4dbac82c5">simul::clouds::CloudKeyframe::simulation</a></div><div class="ttdeci">float simulation</div><div class="ttdoc">If 1.0, cloud volume is simulated. If 0.0, it is generated by fractal. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00110">BaseGpuCloudGenerator.h:110</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ac8747b8143b1ca2b863b635d689a11b1"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ac8747b8143b1ca2b863b635d689a11b1">simul::clouds::CloudKeyframe::offsetx</a></div><div class="ttdeci">float offsetx</div><div class="ttdoc">The calculated position x offset of this keyframe due to the accumulation of wind motion (see wind_sp...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00107">BaseGpuCloudGenerator.h:107</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a06e21647b0942f46a9bfb43b01111cb6"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a06e21647b0942f46a9bfb43b01111cb6">simul::clouds::CloudKeyframe::offsety</a></div><div class="ttdeci">float offsety</div><div class="ttdoc">The calculated position y offset of this keyframe due to the accumulation of wind motion (see wind_sp...</div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00108">BaseGpuCloudGenerator.h:108</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1PrecipitationRegion_html_ac99c4ed3b30dccd879e0d6190a61c17e"><div class="ttname"><a href="structsimul_1_1clouds_1_1PrecipitationRegion.html#ac99c4ed3b30dccd879e0d6190a61c17e">simul::clouds::PrecipitationRegion::centreKm</a></div><div class="ttdeci">vec2 centreKm</div><div class="ttdoc">The centre of the region. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00072">BaseGpuCloudGenerator.h:72</a></div></div>
<div class="ttc" id="classsimul_1_1crossplatform_1_1BaseFramebuffer_html"><div class="ttname"><a href="classsimul_1_1crossplatform_1_1BaseFramebuffer.html">simul::crossplatform::BaseFramebuffer</a></div><div class="ttdoc">A base class for API-dependent framebuffer classes. </div><div class="ttdef"><b>Definition:</b> <a href="BaseFramebuffer_8h_source.html#l00142">BaseFramebuffer.h:142</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a19ad8a3486907d4df94f25e98ccae1e6"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a19ad8a3486907d4df94f25e98ccae1e6">simul::clouds::CloudKeyframe::worley_noise</a></div><div class="ttdeci">float worley_noise</div><div class="ttdoc">How much Worley (cell) noise to apply in cloud generation. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00111">BaseGpuCloudGenerator.h:111</a></div></div>
<div class="ttc" id="structsimul_1_1sky_1_1BaseKeyframe_html"><div class="ttname"><a href="structsimul_1_1sky_1_1BaseKeyframe.html">simul::sky::BaseKeyframe</a></div><div class="ttdoc">The base keyframe structure, containing time, the time that the keyframe represents. </div><div class="ttdef"><b>Definition:</b> <a href="BaseKeyframer_8h_source.html#l00075">BaseKeyframer.h:75</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html">simul::clouds::CloudKeyframe</a></div><div class="ttdoc">The keyframe structure for clouds, used by simul::clouds::CloudKeyframer. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00077">BaseGpuCloudGenerator.h:77</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_ae40f0a4416141d6081e674646c7007ad"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#ae40f0a4416141d6081e674646c7007ad">simul::clouds::CloudKeyframe::indirect_light</a></div><div class="ttdeci">float indirect_light</div><div class="ttdoc">The amount of indirect or secondary light to be used for rendering. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00089">BaseGpuCloudGenerator.h:89</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a205550eccce33a7a0d777407ed0bf13c"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a205550eccce33a7a0d777407ed0bf13c">simul::clouds::CloudKeyframe::cloud_width_km</a></div><div class="ttdeci">float cloud_width_km</div><div class="ttdoc">The width of the cloud layer in km, or the repeat-length. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00087">BaseGpuCloudGenerator.h:87</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a490bc561c5cdb3bf92146824e386bec9"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a490bc561c5cdb3bf92146824e386bec9">simul::clouds::CloudKeyframe::light_asymmetry</a></div><div class="ttdeci">float light_asymmetry</div><div class="ttdoc">The anisotropic distribution of direct lighting, or eccentricity. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00091">BaseGpuCloudGenerator.h:91</a></div></div>
<div class="ttc" id="structsimul_1_1clouds_1_1CloudKeyframe_html_a7301a6b71419ff9caf24c06d42bb8839"><div class="ttname"><a href="structsimul_1_1clouds_1_1CloudKeyframe.html#a7301a6b71419ff9caf24c06d42bb8839">simul::clouds::CloudKeyframe::cloud_height_km</a></div><div class="ttdeci">float cloud_height_km</div><div class="ttdoc">The height of the cloud layer, above its base altitude. </div><div class="ttdef"><b>Definition:</b> <a href="BaseGpuCloudGenerator_8h_source.html#l00086">BaseGpuCloudGenerator.h:86</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address style="text-align: right;">trueSKY VERSION SIMUL_MAJOR_VERSION=4.0.0<small>
Sun Oct 2 2016 07:52:52</small></address>
</body>
</html>
